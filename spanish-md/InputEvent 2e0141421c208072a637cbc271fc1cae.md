# InputEvent

Toca hablar de los **tipos de `InputEvent`** (las “clases de eventos” que llegan a **`_input`** y **`_unhandled_input`**), porque completan el cuadro de cómo funciona Input en Godot 4. No es posible citar documentación externa en este mensaje porque en este momento no hay acceso a herramientas, así que esta parte se basa en conocimiento previo.

---

## Qué es un **`InputEvent`**

- Cada vez que el jugador pulsa una tecla, hace clic, mueve el ratón o usa un mando, Godot genera un objeto **`InputEvent`**.
- Ese objeto se pasa como parámetro a funciones como **`_input(event)`** y **`_unhandled_input(event)`** y se puede inspeccionar para ver qué ocurrió exactamente.

---

## Tipos más importantes

Los tipos concretos heredan de **`InputEvent`** y se usan con **`if event is InputEventAlgo`**:

- **`InputEventKey`**
    - Representa una tecla de teclado.
    - Propiedades típicas:
        - **`pressed`** (bool): si la tecla está siendo presionada.
        - **`keycode`**: código de la tecla (por ejemplo **`KEY_SPACE`**, **`KEY_A`**).
        - **`echo`**: **`true`** cuando es una repetición automática por mantener la tecla.
- **`InputEventMouseButton`**
    - Representa un click de ratón (botón presionado o soltado).
    - Propiedades:
        - **`button_index`**: qué botón (izquierdo, derecho, rueda, etc.).
        - **`pressed`**: **`true`** cuando se presiona, **`false`** al soltar.
        - **`position`**: posición del ratón en el viewport en el momento del evento.
- **`InputEventMouseMotion`**
    - Representa movimiento del ratón.
    - Propiedades:
        - **`position`**: posición actual.
        - **`relative`**: desplazamiento desde el frame anterior (útil para cámaras tipo FPS).
- **`InputEventJoypadButton`**
    - Para botones de gamepad.
    - Propiedades: **`button_index`**, **`pressed`**.
- **`InputEventJoypadMotion`**
    - Para ejes analógicos (sticks, gatillos).
    - Propiedades:
        - **`axis`**: qué eje.
        - **`axis_value`**: valor entre -1 y 1.

## Ejemplo practico de InputEvent

```python
func _input(event: InputEvent) -> void:
    # Teclado
    if event is InputEventKey and event.pressed:
        print("Tecla: ", event.keycode)

    # Click de ratón
    if event is InputEventMouseButton and event.pressed:
        match event.button_index:
            MOUSE_BUTTON_LEFT:
                print("Click izquierdo en ", event.position)
            MOUSE_BUTTON_RIGHT:
                print("Click derecho en ", event.position)

    # Movimiento de ratón
    if event is InputEventMouseMotion:
        # event.relative es el delta de movimiento
        rotate_camera(event.relative.x * 0.01)

    # Botón de mando
    if event is InputEventJoypadButton and event.pressed:
        print("Botón de mando: ", event.button_index)

    # Eje de mando (ejemplo genérico)
    if event is InputEventJoypadMotion:
        if event.axis == JOY_AXIS_LEFT_X:
            handle_move_horizontal(event.axis_value)
```